<ion-header>
  <ion-toolbar color="prihood">
    <ion-title>Registrar servicio</ion-title>
    <ion-buttons start>
      <button ion-button (click)="volver()">
        <span ion-text color="primary" showWhen="ios">Cancelar</span>
        <ion-icon name="md-close" showWhen="android"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col col-12 class='infoRegistroProveedor-container'>
      <p class="infoRegistroProveedor">
        Ingresa los datos del proveedor de servicio y ayuda a tus vecinos a descubrirlos
      </p>
    </ion-col>
  </ion-row>

  <form (ngSubmit)="registrarProveedor(proveedor)">
    <ion-list>
      <ion-grid>

        <ion-row>
          <ion-col col-12>
            <ion-item>
              <ion-label stacked>Tipo de Servicio</ion-label>
              <ion-select [(ngModel)]="proveedor.id_tipo_servicio" interface='popover'  (ionChange)='servicioSeleccionado($event)' name="idTipoServicio">
                <ion-option value="{{tipo_servicio.id}}" *ngFor='let tipo_servicio of tipos_servicio'>{{tipo_servicio.descripcion}}</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-7>
            <ion-item>
              <ion-label stacked>Nombre</ion-label>
              <ion-input type="text" [(ngModel)]="proveedor.nombre" type="text" name="proveedorNombre"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col col-5>
            <ion-item>
              <ion-label stacked>Teléfono</ion-label>
              <ion-input type="number" [(ngModel)]="proveedor.telefono" type="text" name="proveedorTelefono"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-8>
            <ion-item>
              <ion-label stacked>Dirección</ion-label>
              <ion-input [(ngModel)]="proveedor.direccion" type="text" name="direccionProveedor"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col col-4>
            <ion-icon class='foto-icon' name="cloud-upload" (click)='uploadImage()'></ion-icon>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-12>
            <ion-item>
              <ion-label stacked>Descripcion</ion-label>
              <ion-textarea [(ngModel)]="proveedor.descripcion" type="text" name="descripcionProveedor"></ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>Calificación</ion-label>
              <ion-select [(ngModel)]="proveedor.rating_total" interface='popover' name="ratingTotal">
                <ion-option value='1'>1</ion-option>
                <ion-option value='2'>2</ion-option>
                <ion-option value='3'>3</ion-option>
                <ion-option value='4'>4</ion-option>
                <ion-option value='5'>5</ion-option>
              </ion-select>
            </ion-item>
            <!--ESTA HECHO RAPIDAMENTE, DEBE CAMBIAR-->
          </ion-col>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>Comentario</ion-label>
              <ion-input type="text" name="comentario"></ion-input>
            </ion-item>
          </ion-col>
          <!--SOLO SE LO USA PARA COMPLETAR LA VISTA, ACTUALMENTE SE HARDCODEA LA CANTIDAD DE VOTOS COMO = 1-->
          <!--NO INSERTA EL COMENTARIO, DEBE HACER USO DEL SERVICIO EINSERTAR EN LA TABLA REGISTRO_VOTOS -->
        </ion-row>


      </ion-grid>
    </ion-list>

    <div class="btnRegistrar">
      <button ion-button block outline block type="submit" id="btnRegistrarProveedor">Registrar</button>
    </div>
  </form>

</ion-content>